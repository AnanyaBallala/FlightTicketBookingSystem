<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment</title>
  <link rel="stylesheet" href="style.css" />
  
</head>
<body class="payment-body">

  <div class="payment-container">
    <h2>Payment Details</h2>

    <form id="paymentForm">
      <label for="cardName">Cardholder Name</label>
      <input type="text" id="cardName" placeholder="Enter name on card" required />

      <label for="cardNumber">Card Number</label>
      <input type="text" id="cardNumber" maxlength="16" placeholder="1234 5678 9012 3456" required />

      <label for="expiry">Expiry Date</label>
      <input type="text" id="expiry" maxlength="5" placeholder="MM/YY" required />

      <label for="cvv">CVV</label>
      <input type="password" id="cvv" maxlength="3" placeholder="***" required />

      <button type="submit">Pay Now</button>
    </form>

    <a href="booking.html" class="btn">Back to Booking</a>
  </div>

  <script>
    
    document.getElementById("paymentForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const cardNumber = document.getElementById("cardNumber").value.trim();
      const expiry = document.getElementById("expiry").value.trim();
      const cvv = document.getElementById("cvv").value.trim();

    
      if (!/^\d{16}$/.test(cardNumber)) {
        alert("Please enter a valid 16-digit card number.");
        return;
      }
      if (!/^\d{2}\/\d{2}$/.test(expiry)) {
        alert("Please enter a valid expiry in MM/YY format.");
        return;
      }
      if (!/^\d{3}$/.test(cvv)) {
        alert("Please enter a valid 3-digit CVV.");
        return;
      }

      
      const bookings = JSON.parse(localStorage.getItem("bookings")) || [];
      bookings.push({
        flightName: localStorage.getItem("selectedFlight"),
        from: localStorage.getItem("fromCity"),
        to: localStorage.getItem("toCity"),
        date: localStorage.getItem("flightDate"),
        seat: localStorage.getItem("seat"),
        name: localStorage.getItem("passengerName")
      });
      localStorage.setItem("bookings", JSON.stringify(bookings));

     
      localStorage.setItem("paymentStatus", "success");

      alert("Payment successful!");
      window.location.href = "success.html"; 
    });
  </script>

</body>
</html>
